<!doctype html>
<html lang="zh-CN">

<head>

    <meta charset="utf-8">
    <title>数据统计图</title>

    <script type="text/javascript">
        window.onload = function () {
            const checkboxes = document.querySelectorAll("input[type='checkbox']");
            const charts = document.querySelectorAll("div[id='chart']");

            // charts display 变为 none
            charts.forEach((now_chart, index) => {
                now_chart.style.display = 'none';
            })

            
            var good_indexes = new Array();
            const max_num = 2;

            checkboxes.forEach((now_check, index) => {
                now_check.addEventListener("click", () => {
                    var now_len = good_indexes.length;
                    if(now_check.checked) {
                    // 如果是点击选择
                        // 复选框已经满了
                        if(now_len == max_num) {
                            var del_index = good_indexes.shift();
                            charts[del_index].style.display = 'none';
                            checkboxes[del_index].checked = false;
                        }

                        good_indexes.push(index);
                        charts[index].style.display = 'block';
                    } else {
                    // 如果点击取消
                        good_indexes.splice(good_indexes.indexOf(index), 1);
                        charts[index].style.display = 'none';
                    }
                })
            })
        }
    </script>
</head>

<body>
    <h1> 数据统计图表 </h1>

    $TABLES
    <br>
    $CHARTS

</body>
<style>
    table, th, td {
        border: 1px, solid black;
        text-align: center;
        margin: 0 auto;
    }
    table {
        width: 80%;
    }
    h1 {
        text-align: center;
    }
</style>
</html>